<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
    <title>My message</title>
   
    <link rel="stylesheet" href="css/mydash.css">
    <link rel="stylesheet" href="css/blog_list.css">
    <link rel="stylesheet"
    href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet"
    href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

    <script src="https://kit.fontawesome.com/c6d6e74636.js" crossorigin="anonymous"></script>
    <script src="js/scriptdashboard.js"></script>
</head>
<body>
    <div class="main-dash-container">
        <div class="top-nav">
          <center><h2 class="dashbord-text">Dashboard</h2></center> 
            <div class="right-coner-icons">
             <h4><a href="login.html">Logout</a></h4>
            </div>
        </div>
        <div class="bx bx-menu" id="menu-icon">
			
        </div>
        <div class="body-divs">
            <div class="side-nav" id="sidenav"> 
             
                <div class="side-title"><p>Menu</p></div>
                <ul class="navList">
                    <li>Home</li>
                    <li>Blog</li>
                    <li><a href="message.html">Message</a></li>
                    <li>Notification</li>
                </ul>
                
            </div>
      
<center><br><br/>
 <label>Your Brogs....</label>
<div class="form"><br>
 
     
    </div> 

 
<br/><br/>

<div class="blog-container" id="blog">
    <br/>
    <br/>

    <div class="blogs-container">
        <div class="blogs">
                <table id="table" border="1">
                    <thead>
                        <th>No</th>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Description</th>
                    </thead>
                    <tbody id="bodyOne">
                        
                    </tbody>
                </table>
            
            
        </div>
    </div> 
  <br>
</div><center>
  <a href="Dashboard.html" style="text-decoration: none; color:blue;font-family: inter;"> Back</a></label></center>
<br/>

<br/>

            </div>
        </div>
       
    </div>

    <script type="module">

        import {
  getFirestore, doc, getDoc,getDocs, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField
} from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js"



          // Import the functions you need from the SDKs you need
          import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries
        
          // Your web app's Firebase configuration
          const firebaseConfig = {
            apiKey: "AIzaSyB1VHGNrwTmCiYhONPl8yE6GvwpZsQnLT4",
            authDomain: "mydashboard-d0814.firebaseapp.com",
            projectId: "mydashboard-d0814",
            storageBucket: "mydashboard-d0814.appspot.com",
            messagingSenderId: "282132150467",
            appId: "1:282132150467:web:6a0982aff64acd6e6eca76"
          };
        
          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const db = getFirestore();

var numbering = 0;
var groupingToTable = document.getElementById('bodyOne');

function AddItemToTable(title, author,description){
  let trow = document.createElement('tr')
  let td1 = document.createElement('td')
  let td2 = document.createElement('td')
  let td3 = document.createElement('td')
  let td4 = document.createElement('td')


  td1.innerHTML = ++numbering;
  td2.innerHTML = title;
  td3.innerHTML = author;
  td4.innerHTML = description;


  trow.appendChild(td1)
  trow.appendChild(td2)
  trow.appendChild(td3)
  trow.appendChild(td4)


  groupingToTable.appendChild(trow);

}
  function AddAllItems(messageBox){
    numbering = 0;
    groupingToTable.innerHTML = '';
      messageBox.forEach(element => {
          AddItemToTable(element.title,element.author,element.description);
      });
  }


const db1 = getFirestore();

          async function displayDataAtTheSameTime(){
              const querySnapshot = await getDocs(collection(db1, 'myBlogs'));

              var messages = [];
              querySnapshot.forEach(doc =>{
                  messages.push(doc.data());
              });
              AddAllItems(messages);
          }
          window.onload = displayDataAtTheSameTime;

</script>
  
</body>
</html>
